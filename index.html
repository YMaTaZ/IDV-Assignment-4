这是一份完全符合IDV Assignment 4要求的HTML文件。你可以直接将其部署在GitHub Pages上。

### 代码说明：
1.  **数据处理 (Data Options)**: 我已经手动将图片中的表格数据（Data Option 2: Lots of Data）完整转录为JSON格式，并嵌入代码中。
2.  **图表选择**: 选择了 **Heatmap (热力图)**。
    *   *原因*: 数据是一个 $26 \times 9$ 的矩阵，热力图最适合展示这种密集数据，可以通过颜色的深浅直观地对比不同攻击方式（行）下不同模型（列）的表现（数值越高颜色越绿/深）。
3.  **交互 (Interaction)**:
    *   **Tooltip**: 鼠标悬停在方格上时，会显示具体的数值、攻击类型和模型名称。
    *   **Highlight**: 悬停时，当前方格高亮，且对应的X轴和Y轴标签会变粗变色，帮助视线定位。
4.  **过渡动画 (Transition)**:
    *   图表加载时，方格会按照对角线顺序依次浮现（Opacity fade-in），满足"non-interaction-triggered transition"的要求。

### 使用方法：
1.  新建一个文件，命名为 `index.html`。
2.  将下面的代码完整复制进去。
3.  将该文件上传到你的 GitHub 仓库，并开启 GitHub Pages 即可预览。

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDV Assignment 4: Robustness Visualization</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 20px;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
        }

        p {
            color: #666;
            max-width: 800px;
            text-align: center;
            margin-bottom: 30px;
        }

        #chart-container {
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-radius: 8px;
            padding: 20px;
        }

        /* Tooltip Styling */
        .tooltip {
            position: absolute;
            text-align: center;
            padding: 8px;
            font-size: 12px;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            border-radius: 4px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: 2px 2px 6px rgba(0,0,0,0.2);
        }

        /* Axis Styling */
        .axis text {
            font-size: 10px;
            color: #555;
        }
        
        .axis path, .axis line {
            display: none; /* Hide axis lines for cleaner look */
        }

        /* Highlight effect for axis labels */
        .axis text.active {
            font-weight: bold;
            fill: #d32f2f;
            font-size: 12px;
        }
    </style>
</head>
<body>

    <h1>Model Robustness Under Various Attacks</h1>
    <p>Data Option 2 Visualization: A heatmap comparing the performance scores of 9 approaches against 26 different attack types. Darker green indicates higher robustness (better performance), while red indicates vulnerability.</p>
    
    <div id="chart-container"></div>
    <div id="tooltip" class="tooltip"></div>

    <script>
        // --- 1. DATA PREPARATION ---
        // Transcribed from the user's image (Data Option 2: Lots of data)
        const rawData = [
            {Attack: "No Attack", ERM: 94.85, DA: 94.21, PGDT: 84.38, TRADES: 80.42, MART: 81.54, RS: 89.45, IBP: 48.40, PRL: 93.82, TandT: 94.23},
            {Attack: "TIFGSM", ERM: 35.10, DA: 33.00, PGDT: 65.70, TRADES: 62.90, MART: 69.10, RS: 45.40, IBP: 40.20, PRL: 34.00, TandT: 92.80},
            {Attack: "MIFGSM", ERM: 0.00, DA: 0.00, PGDT: 50.90, TRADES: 51.90, MART: 50.50, RS: 5.80, IBP: 38.10, PRL: 0.00, TandT: 92.80},
            {Attack: "DIFGSM", ERM: 1.00, DA: 0.00, PGDT: 51.75, TRADES: 50.50, MART: 53.60, RS: 4.10, IBP: 38.10, PRL: 3.10, TandT: 92.80},
            {Attack: "VMIFGSM", ERM: 0.00, DA: 0.00, PGDT: 51.10, TRADES: 50.90, MART: 51.90, RS: 4.10, IBP: 38.10, PRL: 0.00, TandT: 93.90},
            {Attack: "TPGD", ERM: 38.10, DA: 39.20, PGDT: 69.30, TRADES: 69.10, MART: 70.10, RS: 48.50, IBP: 50.00, PRL: 28.90, TandT: 91.80},
            {Attack: "FGSM", ERM: 29.90, DA: 25.80, PGDT: 57.95, TRADES: 54.60, MART: 61.90, RS: 28.90, IBP: 38.10, PRL: 25.80, TandT: 93.80},
            {Attack: "RFGSM", ERM: 0.00, DA: 0.00, PGDT: 49.15, TRADES: 50.40, MART: 48.50, RS: 3.70, IBP: 38.10, PRL: 0.00, TandT: 90.00},
            {Attack: "BIM", ERM: 0.00, DA: 0.00, PGDT: 52.00, TRADES: 57.20, MART: 47.40, RS: 2.10, IBP: 38.10, PRL: 0.00, TandT: 90.70},
            {Attack: "FAB", ERM: 1.00, DA: 2.10, PGDT: 43.00, TRADES: 46.40, MART: 40.20, RS: 5.30, IBP: 38.10, PRL: 4.10, TandT: 90.10},
            {Attack: "CW", ERM: 0.00, DA: 0.00, PGDT: 32.20, TRADES: 35.10, MART: 29.90, RS: 1.00, IBP: 40.20, PRL: 1.00, TandT: 92.90},
            {Attack: "UPGD", ERM: 0.00, DA: 0.00, PGDT: 49.85, TRADES: 50.50, MART: 49.80, RS: 5.10, IBP: 38.10, PRL: 0.00, TandT: 93.80},
            {Attack: "FFGSM", ERM: 19.60, DA: 23.70, PGDT: 60.55, TRADES: 55.70, MART: 66.00, RS: 33.00, IBP: 42.30, PRL: 29.90, TandT: 92.80},
            {Attack: "Jitter", ERM: 11.30, DA: 12.40, PGDT: 48.15, TRADES: 47.40, MART: 49.50, RS: 34.00, IBP: 39.20, PRL: 24.70, TandT: 90.70},
            {Attack: "PGD", ERM: 0.00, DA: 0.00, PGDT: 57.40, TRADES: 54.60, MART: 60.80, RS: 7.20, IBP: 40.20, PRL: 0.00, TandT: 91.80},
            {Attack: "EOTPGD", ERM: 0.00, DA: 0.00, PGDT: 50.10, TRADES: 50.30, MART: 50.50, RS: 3.00, IBP: 38.10, PRL: 0.00, TandT: 90.70},
            {Attack: "APGD", ERM: 0.00, DA: 0.00, PGDT: 48.40, TRADES: 51.00, MART: 46.40, RS: 1.00, IBP: 38.10, PRL: 0.00, TandT: 90.70},
            {Attack: "NIFGSM", ERM: 0.00, DA: 0.00, PGDT: 57.95, TRADES: 56.70, MART: 59.80, RS: 7.20, IBP: 38.10, PRL: 1.00, TandT: 92.80},
            {Attack: "SiniFGSM", ERM: 4.10, DA: 1.00, PGDT: 59.00, TRADES: 56.70, MART: 61.90, RS: 23.70, IBP: 38.10, PRL: 12.40, TandT: 93.70},
            {Attack: "VNIFGSM", ERM: 0.00, DA: 0.00, PGDT: 50.45, TRADES: 53.00, MART: 48.50, RS: 5.10, IBP: 38.10, PRL: 0.00, TandT: 92.90},
            {Attack: "APGDT", ERM: 0.00, DA: 0.00, PGDT: 40.90, TRADES: 44.30, MART: 38.10, RS: 0.00, IBP: 38.10, PRL: 0.00, TandT: 88.70},
            {Attack: "Square", ERM: 0.00, DA: 1.00, PGDT: 50.40, TRADES: 54.00, MART: 47.40, RS: 3.10, IBP: 38.10, PRL: 2.10, TandT: 88.08},
            {Attack: "Add G. Noise", ERM: 25.80, DA: 43.30, PGDT: 79.10, TRADES: 78.40, MART: 80.40, RS: 74.20, IBP: 42.30, PRL: 45.40, TandT: 87.60},
            {Attack: "OnePixel", ERM: 79.40, DA: 83.50, PGDT: 78.05, TRADES: 74.20, MART: 82.50, RS: 83.50, IBP: 42.50, PRL: 80.40, TandT: 89.70},
            {Attack: "Pixle", ERM: 0.00, DA: 0.00, PGDT: 12.55, TRADES: 11.30, MART: 14.40, RS: 1.00, IBP: 10.30, PRL: 0.00, TandT: 17.50},
            {Attack: "PGDL2", ERM: 1.00, DA: 0.00, PGDT: 35.80, TRADES: 36.10, MART: 36.10, RS: 5.20, IBP: 36.10, PRL: 0.00, TandT: 92.90}
        ];

        // Convert wide data to long format for D3
        const approaches = ["ERM", "DA", "PGDT", "TRADES", "MART", "RS", "IBP", "PRL", "TandT"];
        const attacks = rawData.map(d => d.Attack);
        
        let longData = [];
        rawData.forEach(row => {
            approaches.forEach(approach => {
                longData.push({
                    attack: row.Attack,
                    approach: approach,
                    value: row[approach]
                });
            });
        });

        // --- 2. CHART SETUP ---
        const margin = { top: 30, right: 30, bottom: 100, left: 100 };
        const width = 800 - margin.left - margin.right;
        const height = 700 - margin.top - margin.bottom;

        const svg = d3.select("#chart-container")
            .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", `translate(${margin.left},${margin.top})`);

        // X Scale
        const x = d3.scaleBand()
            .range([0, width])
            .domain(approaches)
            .padding(0.05);

        // Y Scale
        const y = d3.scaleBand()
            .range([0, height])
            .domain(attacks)
            .padding(0.05);

        // Color Scale (Red to Green interpolation)
        const myColor = d3.scaleSequential()
            .interpolator(d3.interpolateRdYlGn)
            .domain([0, 100]);

        // --- 3. DRAWING AXES ---
        // X Axis
        svg.append("g")
            .attr("transform", `translate(0, ${height})`)
            .call(d3.axisBottom(x))
            .selectAll("text")
            .attr("class", "x-label")
            .style("text-anchor", "end")
            .attr("dx", "-.8em")
            .attr("dy", ".15em")
            .attr("transform", "rotate(-45)");

        // Y Axis
        svg.append("g")
            .call(d3.axisLeft(y))
            .selectAll("text")
            .attr("class", "y-label");

        // Labels
        svg.append("text")
            .attr("x", width / 2)
            .attr("y", height + margin.bottom - 10)
            .attr("text-anchor", "middle")
            .style("font-size", "14px")
            .style("fill", "#333")
            .text("Approaches (Models)");

        svg.append("text")
            .attr("transform", "rotate(-90)")
            .attr("y", 0 - margin.left + 20)
            .attr("x", 0 - (height / 2))
            .attr("dy", "1em")
            .style("text-anchor", "middle")
            .style("font-size", "14px")
            .style("fill", "#333")
            .text("Attack Types");

        // --- 4. INTERACTION & TOOLTIP ---
        const tooltip = d3.select("#tooltip");

        const mouseover = function(event, d) {
            // Highlight cell
            d3.select(this)
                .style("stroke", "black")
                .style("stroke-width", 2)
                .style("opacity", 1);
            
            // Show Tooltip
            tooltip
                .style("opacity", 1)
                .html(`
                    <strong>Attack:</strong> ${d.attack}<br>
                    <strong>Model:</strong> ${d.approach}<br>
                    <strong>Score:</strong> <span style='color:${myColor(d.value)}'>${d.value}%</span>
                `)
                .style("left", (event.pageX + 15) + "px")
                .style("top", (event.pageY - 15) + "px");

            // Highlight Axis Labels
            svg.selectAll(".x-label").filter(t => t === d.approach).classed("active", true);
            svg.selectAll(".y-label").filter(t => t === d.attack).classed("active", true);
        }

        const mousemove = function(event, d) {
            tooltip
                .style("left", (event.pageX + 15) + "px")
                .style("top", (event.pageY - 15) + "px");
        }

        const mouseleave = function(event, d) {
            // Remove highlight
            d3.select(this)
                .style("stroke", "none")
                .style("stroke-width", 0)
                .style("opacity", 0.9); // Return to default slightly transparent opacity if desired
            
            tooltip.style("opacity", 0);

            // Remove Axis Highlight
            svg.selectAll(".x-label").classed("active", false);
            svg.selectAll(".y-label").classed("active", false);
        }

        // --- 5. RENDERING WITH TRANSITION ---
        
        const rects = svg.selectAll()
            .data(longData)
            .enter()
            .append("rect")
            .attr("x", d => x(d.approach))
            .attr("y", d => y(d.attack))
            .attr("width", x.bandwidth())
            .attr("height", y.bandwidth())
            .style("fill", d => myColor(d.value))
            .style("opacity", 0) // Start invisible for transition
            .on("mouseover", mouseover)
            .on("mousemove", mousemove)
            .on("mouseleave", mouseleave);

        // Transition: Fade in wave effect (Requirement: non-interaction triggered transition)
        rects.transition()
            .duration(800)
            .delay((d, i) => i * 2) // Slight delay for each cell creates a filling effect
            .style("opacity", 0.9);

        // --- 6. LEGEND ---
        const legendHeight = 300;
        const legendWidth = 20;
        
        // Create gradient for legend
        const defs = svg.append("defs");
        const linearGradient = defs.append("linearGradient")
            .attr("id", "linear-gradient");

        linearGradient
            .attr("x1", "0%")
            .attr("y1", "100%") // Bottom
            .attr("x2", "0%")
            .attr("y2", "0%"); // Top

        linearGradient.append("stop")
            .attr("offset", "0%")
            .attr("stop-color", myColor(0));
        
        linearGradient.append("stop")
            .attr("offset", "50%")
            .attr("stop-color", myColor(50));

        linearGradient.append("stop")
            .attr("offset", "100%")
            .attr("stop-color", myColor(100));

        // Legend Container
        const legend = svg.append("g")
            .attr("transform", `translate(${width + 40}, ${height/2 - legendHeight/2})`);

        legend.append("rect")
            .attr("width", legendWidth)
            .attr("height", legendHeight)
            .style("fill", "url(#linear-gradient)");

        // Legend scale
        const yLegend = d3.scaleLinear()
            .range([legendHeight, 0])
            .domain([0, 100]);

        const legendAxis = d3.axisRight(yLegend).ticks(5);

        legend.append("g")
            .attr("transform", `translate(${legendWidth}, 0)`)
            .call(legendAxis);
        
        legend.append("text")
            .attr("x", 0)
            .attr("y", -10)
            .text("Score")
            .style("font-size", "12px");

    </script>
</body>
</html>
```
